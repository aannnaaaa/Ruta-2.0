{% extends "base_layout.html" %}
{% load static %}

{% block title %}–û —Å–µ—Ä–≤–∏—Å–µ - Ruta{% endblock title %}

{% block content %}
<!-- Hero Section -->
<section class="hero-section">
    <div class="hero-decorations">
        <!-- –ü–µ—Ä–≤—ã–π —Ä—è–¥ -->
        <div class="travel-icon airplane" title="–ü–æ–ª–µ—Ç–µ–ª–∏!">‚úàÔ∏è</div>
        <div class="travel-icon hot-air-balloon" title="–í–æ–∑–¥—É—à–Ω—ã–µ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è">üéà</div>
        <div class="travel-icon ship" title="–ú–æ—Ä—Å–∫–∏–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è">üö¢</div>

        <!-- –í—Ç–æ—Ä–æ–π —Ä—è–¥ -->
        <div class="travel-icon compass" title="–ù–∞–π–¥–µ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ">üß≠</div>
        <div class="travel-icon-wrapper compass">
            <div class="compass"></div>
        </div>
        <div class="travel-icon suitcase" title="–°–æ–±–∏—Ä–∞–µ–º —á–µ–º–æ–¥–∞–Ω—ã">üß≥</div>
        <div class="travel-icon train" title="–ñ–µ–ª–µ–∑–Ω–æ–¥–æ—Ä–æ–∂–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã">üöÇ</div>

        <!-- –¢—Ä–µ—Ç–∏–π —Ä—è–¥ -->
        <div class="travel-icon camera" title="–ó–∞–ø–µ—á–∞—Ç–ª–∏–º –º–æ–º–µ–Ω—Ç—ã">üì∑</div>
        <div class="travel-icon mountain" title="–ü–æ–∫–æ—Ä–∏–º –≤–µ—Ä—à–∏–Ω—ã">üèîÔ∏è</div>
        <div class="travel-icon palm-tree" title="–¢—Ä–æ–ø–∏—á–µ—Å–∫–∏–π –æ—Ç–¥—ã—Ö">üå¥</div>

        <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã -->
        <div class="travel-icon globe" title="–í–µ—Å—å –º–∏—Ä –æ—Ç–∫—Ä—ã—Ç">üåç</div>
        <div class="travel-icon tent" title="–ö–µ–º–ø–∏–Ω–≥ –ø–æ–¥ –∑–≤–µ–∑–¥–∞–º–∏">‚õ∫</div>
        <div class="travel-icon map" title="–ò–∑—É—á–∞–µ–º –∫–∞—Ä—Ç—ã">üó∫Ô∏è</div>
        <div class="travel-icon glasses" title="–ò–∑—É—á–∞–µ–º –∫–∞—Ä—Ç—ã">üï∂Ô∏è</div>
    </div>
    <div class="container">
        <div class="hero-content">
            <h1 class="hero-title">–í–∞—à –º–∞—Ä—à—Ä—É—Ç ‚Äî –≤–∞—à —à–µ–¥–µ–≤—Ä.<br>–ú—ã –ø–æ–º–æ–∂–µ–º –µ–≥–æ —Å–æ–∑–¥–∞—Ç—å.</h1>
            <p class="hero-subtitle">–û—Ç–∫—Ä–æ–π—Ç–µ –¥–ª—è —Å–µ–±—è —É–¥–∏–≤–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Å—Ç–∞</p>

            <form class="search-form" method="GET" action="{% url 'trips:popular_routes' %}">
                <div class="row g-2 align-items-center justify-content-center">
                    <div class="col-auto">
                        <div class="search-input-container d-flex align-items-center gap-2">
                            <input type="text" class="form-control" placeholder="–û—Ç–∫—É–¥–∞" name="from">
                            <input type="text" class="form-control" placeholder="–ö—É–¥–∞" name="to">
                            <input type="date" class="form-control" name="date">
                        </div>
                    </div>
                    <div class="col-auto">
                        <button type="submit" class="btn custom-button">–ù–∞–π—Ç–∏ –º–∞—Ä—à—Ä—É—Ç</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</section>

<!-- Why Choose Us Section -->
<section class="section why-choose-section">
    <div class="container">
        <h2 class="section-title">–ü–æ—á–µ–º—É –≤—ã–±–∏—Ä–∞—é—Ç –Ω–∞—Å</h2>
        <div class="why-choose-text">
            <p>–ú—ã ‚Äî –≤–∞—à –Ω–∞–¥–µ–∂–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫ –≤ –º–∏—Ä–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–π, —Å–æ–∑–¥–∞–Ω–Ω—ã–π –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –≤–¥–æ—Ö–Ω–æ–≤–ª—è—Ç—å –≤–∞—Å –Ω–∞ –Ω–æ–≤—ã–µ –æ—Ç–∫—Ä—ã—Ç–∏—è. –ù–∞—à —Å–µ—Ä–≤–∏—Å –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –ª—É—á—à–∏–µ –º–∞—Ä—à—Ä—É—Ç—ã –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏, —á—Ç–æ–±—ã –∫–∞–∂–¥–æ–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ —Å—Ç–∞–Ω–æ–≤–∏–ª–æ—Å—å –Ω–µ–∑–∞–±—ã–≤–∞–µ–º—ã–º –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ–º. –ü–æ–∑–≤–æ–ª—å—Ç–µ –Ω–∞–º –ø–æ–∫–∞–∑–∞—Ç—å –≤–∞–º, —Å–∫–æ–ª—å–∫–æ —É–¥–∏–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –º–µ—Å—Ç —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–∞ –Ω–∞—à–µ–π –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ–π –ø–ª–∞–Ω–µ—Ç–µ.</p>
        </div>
        <div class="text-center">
            <a href="{% url 'about_page:about' %}" class="btn custom-button">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</a>
        </div>
    </div>
</section>

<!-- Popular Routes Section -->
<section class="section popular-routes-section">
    <div class="container">
        <h2 class="section-title">–ü–æ—Å–ª–µ–¥–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã</h2>
        <div class="row g-4">
            {% for trip in trips %}
                <div class="col-lg-4 col-md-6">
                    <a href="{% url 'trips:trip_detail' trip.slug %}" class="stretched-link">
                        <div class="card trip-card">
                            <img src="{% if trip.image %}{{ trip.image.url }}{% else %}{% static 'images/background.png' %}{% endif %}" alt="{{ trip.title }}" class="card-img-top">
                            <div class="card-body">
                                <h5 class="card-title">{{ trip.title }}</h5>
                                <p class="card-text">{{ trip.description|truncatechars:100 }}</p>
                                <p class="card-text"><small class="text-muted">{{ trip.date }} | {{ trip.get_status_display }}</small></p>
                            </div>
                        </div>
                    </a>
                </div>
            {% empty %}
                <div class="col-12 text-center">
                    <p>–ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤</p>
                </div>
            {% endfor %}
        </div>
        <div class="text-center mt-5">
            <a href="{% url 'trips:popular_routes' %}" class="btn custom-button">–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –º–∞—Ä—à—Ä—É—Ç—ã</a>
        </div>
    </div>
</section>

<!-- Blog Section -->
<section class="section blog-section">
    <div class="container">
        <h2 class="section-title">–î–µ–ª–∏—Å—å –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏—è–º–∏ –≤ –±–ª–æ–≥–µ</h2>
        <div class="row g-4">
            {% for post in posts|slice:":3" %}
                {% if forloop.first %}
                    <div class="col-lg-6">
                        <a href="{% url 'blog:post_detail' post.slug %}" class="stretched-link">
                            <div class="blog-card main-blog-card">
                                <img src="{% if post.image %}{{ post.image.url }}{% else %}{% static 'images/background.png' %}{% endif %}" alt="{{ post.title }}" class="blog-image">
                                <div class="blog-content">
                                    <h3 class="blog-title">{{ post.title }}</h3>
                                    <p class="blog-excerpt">{{ post.description|truncatechars:150 }}</p>
                                </div>
                            </div>
                        </a>
                    </div>
                    <div class="col-lg-6 d-flex flex-column">
                {% else %}
                        <a href="{% url 'blog:post_detail' post.slug %}" class="stretched-link">
                            <div class="blog-card flex-fill">
                                <div class="row g-0">
                                    <div class="col-4">
                                        <img src="{% if post.image %}{{ post.image.url }}{% else %}{% static 'images/background.png' %}{% endif %}" alt="{{ post.title }}" class="blog-image">
                                    </div>
                                    <div class="col-8">
                                        <div class="blog-content">
                                            <h4 class="blog-title">{{ post.title }}</h4>
                                            <p class="blog-excerpt">{{ post.description|truncatechars:100 }}</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </a>
                {% endif %}
            {% empty %}
                <div class="col-12 text-center">
                    <p>–ù–µ—Ç –ø—É–±–ª–∏–∫–∞—Ü–∏–π</p>
                </div>
            {% endfor %}
            {% if posts|length > 1 %}
                </div>
            {% endif %}
        </div>
        <div class="text-center mt-3">
            <a href="{% url 'blog:blog' %}" class="btn custom-button">–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –ø–æ—Å—Ç—ã</a>
        </div>
    </div>
</section>
{% endblock content %}